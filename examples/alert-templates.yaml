apiVersion: nodeguardian.k8s.io/v1
kind: AlertTemplate
metadata:
  name: high-load-alert
  labels:
    app.kubernetes.io/name: nodeguardian
    app.kubernetes.io/component: template
spec:
  subject: "[NodeGuardian] èŠ‚ç‚¹ {{ .nodeName }} é«˜è´Ÿè½½å‘Šè­¦"
  body: |
    èŠ‚ç‚¹ {{ .nodeName }} è§¦å‘é«˜è´Ÿè½½è§„åˆ™ï¼š
    
    å½“å‰æŒ‡æ ‡ï¼š
    - CPUè´Ÿè½½ç‡: {{ .metrics.cpuLoadRatio }}
    - å†…å­˜ä½¿ç”¨ç‡: {{ .metrics.memoryUtilizationPercent }}%
    - æ£€æŸ¥æ—¶é—´: {{ .timestamp }}
    
    å·²æ‰§è¡ŒåŠ¨ä½œï¼š
    {{ range .actions }}
    - {{ .type }}: {{ .description }}
    {{ end }}
    
    é—®é¢˜Podåˆ—è¡¨ï¼š
    {{ range .topPods }}
    - {{ .name }} ({{ .namespace }}): CPU {{ .cpu }}, MEM {{ .memory }}
    {{ end }}
    
    è¯·åŠæ—¶å¤„ç†ã€‚
  channels: ["email", "slack", "webhook"]
  variables:
    nodeName: "string"
    metrics: "object"
    actions: "array"
    topPods: "array"
    timestamp: "string"

---
apiVersion: nodeguardian.k8s.io/v1
kind: AlertTemplate
metadata:
  name: disk-space-alert
  labels:
    app.kubernetes.io/name: nodeguardian
    app.kubernetes.io/component: template
spec:
  subject: "[NodeGuardian] ç£ç›˜ç©ºé—´å‘Šè­¦"
  body: |
    ç£ç›˜ç©ºé—´å‘Šè­¦è§¦å‘ï¼š
    
    èŠ‚ç‚¹: {{ .nodeName }}
    ç£ç›˜ä½¿ç”¨ç‡: {{ .metrics.diskUtilizationPercent }}%
    æ—¶é—´: {{ .timestamp }}
    
    è¯·åŠæ—¶æ¸…ç†ç£ç›˜ç©ºé—´ã€‚
  channels: ["email", "webhook"]
  variables:
    nodeName: "string"
    metrics: "object"
    timestamp: "string"

---
apiVersion: nodeguardian.k8s.io/v1
kind: AlertTemplate
metadata:
  name: emergency-alert
  labels:
    app.kubernetes.io/name: nodeguardian
    app.kubernetes.io/component: template
spec:
  subject: "ğŸš¨ [NodeGuardian] ç´§æ€¥å‘Šè­¦"
  body: |
    ğŸš¨ğŸš¨ğŸš¨ ç´§æ€¥å‘Šè­¦ ğŸš¨ğŸš¨ğŸš¨
    
    èŠ‚ç‚¹: {{ .nodeName }}
    å†…å­˜ä½¿ç”¨ç‡: {{ .metrics.memoryUtilizationPercent }}%
    æ—¶é—´: {{ .timestamp }}
    
    å·²æ‰§è¡Œç´§æ€¥åŠ¨ä½œï¼š
    - é©±é€éƒ¨åˆ†Podé‡Šæ”¾èµ„æº
    - æ·»åŠ NoExecuteæ±¡ç‚¹
    - å‘é€ç´§æ€¥é€šçŸ¥
    
    è¯·ç«‹å³å¤„ç†ï¼
  channels: ["email", "slack", "webhook"]
  variables:
    nodeName: "string"
    metrics: "object"
    timestamp: "string"

---
apiVersion: nodeguardian.k8s.io/v1
kind: AlertTemplate
metadata:
  name: recovery-alert
  labels:
    app.kubernetes.io/name: nodeguardian
    app.kubernetes.io/component: template
spec:
  subject: "[NodeGuardian] èŠ‚ç‚¹æ¢å¤é€šçŸ¥"
  body: |
    âœ… èŠ‚ç‚¹çŠ¶æ€æ¢å¤
    
    èŠ‚ç‚¹: {{ .nodeName }}
    æ—¶é—´: {{ .timestamp }}
    
    å·²æ‰§è¡Œæ¢å¤åŠ¨ä½œï¼š
    - ç§»é™¤æ±¡ç‚¹
    - æ¸…ç†æ ‡ç­¾
    - æ¢å¤æ­£å¸¸è°ƒåº¦
    
    èŠ‚ç‚¹å·²æ¢å¤æ­£å¸¸çŠ¶æ€ã€‚
  channels: ["email"]
  variables:
    nodeName: "string"
    timestamp: "string"
